<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <title>Karen & Mariam</title>
    <link rel="stylesheet" href="../page/style.css">
    <link href='https://fonts.googleapis.com/css?family=Noto Sans Armenian' rel='stylesheet'>
    <link rel="stylesheet" href="../assets/aos_css_and_js/aos.css">
    <script src="../assets/aos_css_and_js/aos.js"></script>
</head>
<body>
<div class="container">
    <div class="blocks">
        <div class="first_block">
            <img src="../assets/images/GeneralPic1.JPG" alt="" class="first_pic">
            <div class="first_block_info">
                <p class="names">Կարեն և Մարիամ</p>
                <p class="dates item" data-aos="zoom-in">22 Սեպտեմբեր 2025</p>
            </div>
        </div>
        <div class="second_block item" data-aos="flip-left">
            <p class="dear_guests">Սիրելի հյուրեր </P>
            <div class="invitation_text"> Մեծագույն սիրով ու մասնակցության ակնկալիքով հրավիրում ենք Ձեզ մեզ հետ տոնելու մեր կյանքի կարևորագույն
                իրադարձություններից մեկը:
            </div>
            <p class="wedding_day">22 Սեպտեմբեր 2025</p>
            <audio id="backgroundAudio" preload="auto" muted>
                <source src="/assets/audio/love-story.mp3" type="audio/mp3">
                Your browser does not support the audio element.
            </audio>
            <!-- Hidden iframe for audio -->
            <iframe id="audioFrame" style="display:none; width:1px; height:1px;" src="/page/audio.html"></iframe>
        </div>
        <div class="three_block item" data-aos="zoom-out">
            <div class="three_block_1">
                <div class="day_plan_title">
                    Պսակադրություն
                </div>
                <div class="time">
                    <img src="../assets/images/clock_icon.png" alt="img" style="margin-right: 10px">
                    14:30
                </div>
                <div class="church_name">Սուրբ Աստվածածին Եկեղեցի</div>
                <img src="../assets/images/ekexwci.webp" alt="img" class="church_pic">
                <a class="button" href="https://www.google.com/maps/place/%D0%A6%D0%B5%D1%80%D0%BA%D0%BE%D0%B2%D1%8C+%D0%A1%D0%B2%D1%8F%D1%82%D0%BE%D0%B9+%D0%91%D0%BE%D0%B3%D0%BE%D0%BC%D0%B0%D1%82%D0%B5%D1%80%D0%B8+(%D0%90%D1%81%D1%82%D0%B2%D0%B0%D1%86%D0%B0%D1%86%D0%B8%D0%BD)/@40.1868101,44.538418,957m/data=!3m2!1e3!4b1!4m6!3m5!1s0x406abdc910d0cde3:0x607b5f901e5912da!8m2!3d40.1868101!4d44.5409983!16s%2Fg%2F11clt0sdmh?entry=ttu&g_ep=EgoyMDI1MDgxMy4wIKXMDSoASAFQAw%3D%3D"
                   target="_blank">
                    Ինչպես հասնել
                </a>
            </div>
            <div class="three_block_2 item" data-aos="flip-up">
                <div class="day_plan_title">
                    Հանդիսություն
                </div>
                <div class="time">
                    <img src="../assets/images/clock_icon.png" alt="" style="margin-right: 10px">
                    17:30
                </div>
                <div class="church_name">  <span style="font-size: 12px"><<</span>Ադանա<span style="font-size: 12px">>></span> ռեստորան</div>
                <img src="../assets/images/resturant.jpg" alt="img" class="church_pic">
                <a class="button" href="https://www.google.com/maps/place/ADANA+RESTORAN/@40.0079451,44.4740251,959m/data=!3m2!1e3!4b1!4m6!3m5!1s0x406ac93de78254af:0xe01f012bf4ff9886!8m2!3d40.0079451!4d44.4740251!16s%2Fg%2F11j8qwtgzm?entry=ttu&g_ep=EgoyMDI1MDgxMy4wIKXMDSoASAFQAw%3D%3D"
                   target="_blank"> Ինչպես հասնել</a>
            </div>
        </div>


<div class="last_block_general">
    <div class="last_block">
        <h1>Կսպասենք   Ձեզ....</h1>
        <div class="countdown">
            <div class="time-box">
                <span id="days">00</span>
                <div class="label">օր</div>
            </div>
            <div class="time-box">
                <span id="hours">00</span>
                <div class="label">ժամ</div>
            </div>
            <div class="time-box">
                <span id="minutes">00</span>
                <div class="label">րոպե</div>
            </div>
            <div class="time-box">
                <span id="seconds">00</span>
                <div class="label">վայրկյան</div>
            </div>
        </div>
        <div class="last_block_names" >Սիրով ` Կարեն և Մարիամ</div>
    </div>
</div>
    </div>

</div>
<script>
    AOS.init({
        duration: 1200,
    })

    // Simple and aggressive HTML5 audio autoplay
    const audio = document.getElementById('backgroundAudio');
    const audioFrame = document.getElementById('audioFrame');
    let audioStarted = false;

    // Function to start audio
    function startAudio() {
        if (audioStarted) return;
        
        console.log('Attempting to start audio...');
        
        audio.volume = 0.5;
        audio.loop = true;
        audio.muted = false;
        
        const playPromise = audio.play();
        
        if (playPromise !== undefined) {
            playPromise.then(() => {
                audioStarted = true;
                console.log('Audio started successfully!');
            }).catch(error => {
                console.log('Audio play failed:', error);
                // Retry after delay
                setTimeout(startAudio, 1000);
            });
        }
    }

    // Function to reload iframe
    function reloadAudioFrame() {
        console.log('Reloading audio iframe...');
        audioFrame.src = audioFrame.src;
    }

    // Try to start audio immediately
    startAudio();

    // Try on page load
    window.addEventListener('load', () => {
        console.log('Page loaded, trying to start audio...');
        startAudio();
        setTimeout(reloadAudioFrame, 2000);
    });

    // Try on DOM ready
    document.addEventListener('DOMContentLoaded', () => {
        console.log('DOM ready, trying to start audio...');
        startAudio();
    });

    // Try on any user interaction
    const interactionEvents = [
        'click', 'touchstart', 'touchend', 'mousedown', 'mouseup', 
        'keydown', 'keyup', 'scroll', 'wheel', 'pointerdown', 'pointerup',
        'mousemove', 'focus', 'blur'
    ];
    
    interactionEvents.forEach(event => {
        document.addEventListener(event, () => {
            if (!audioStarted) {
                console.log(`User interaction detected: ${event}, starting audio...`);
                startAudio();
                reloadAudioFrame();
            }
        }, { once: false, passive: true });
    });

    // Aggressive autoplay attempts
    let attempts = 0;
    const maxAttempts = 100;
    
    function attemptAutoplay() {
        if (audioStarted || attempts >= maxAttempts) return;
        
        attempts++;
        console.log(`Autoplay attempt ${attempts}/${maxAttempts}`);
        startAudio();
        reloadAudioFrame();
    }

    // Start aggressive attempts
    setTimeout(() => {
        console.log('Starting aggressive autoplay attempts...');
        attemptAutoplay();
    }, 500);

    // Periodic attempts
    setInterval(attemptAutoplay, 1000);

    // Resume audio when page becomes visible
    document.addEventListener('visibilitychange', () => {
        if (!document.hidden && audioStarted) {
            console.log('Page visible, resuming audio...');
            audio.play().catch(() => {});
            reloadAudioFrame();
        }
    });

    // Handle page focus
    window.addEventListener('focus', () => {
        if (audioStarted) {
            console.log('Page focused, resuming audio...');
            audio.play().catch(() => {});
        }
    });

    // Force play on any interaction
    document.addEventListener('click', () => {
        if (!audioStarted) {
            console.log('Click detected, forcing audio start...');
            startAudio();
            reloadAudioFrame();
        }
    }, { once: false });

    // Try to start on mouse movement
    document.addEventListener('mousemove', () => {
        if (!audioStarted) {
            console.log('Mouse movement detected, starting audio...');
            startAudio();
            reloadAudioFrame();
        }
    }, { once: true });

    // Try to start on keyboard input
    document.addEventListener('keydown', () => {
        if (!audioStarted) {
            console.log('Keyboard input detected, starting audio...');
            startAudio();
            reloadAudioFrame();
        }
    }, { once: true });

    // Try to start on scroll
    document.addEventListener('scroll', () => {
        if (!audioStarted) {
            console.log('Scroll detected, starting audio...');
            startAudio();
            reloadAudioFrame();
        }
    }, { once: true });

    // Try to start on window focus
    window.addEventListener('focus', () => {
        if (!audioStarted) {
            console.log('Window focus detected, starting audio...');
            startAudio();
            reloadAudioFrame();
        }
    }, { once: true });

    // Multiple delayed attempts
    setTimeout(startAudio, 1000);
    setTimeout(startAudio, 2000);
    setTimeout(startAudio, 3000);
    setTimeout(startAudio, 5000);
    setTimeout(startAudio, 10000);
    
    // Reload iframe periodically
    setInterval(reloadAudioFrame, 5000);
</script>
<script>
    // Set your target date here (YYYY-MM-DDTHH:MM:SS format)
    const targetDate = new Date("2025-09-22T17:00:00").getTime();

    const countdown = () => {
        const now = new Date().getTime();
        const distance = targetDate - now;

        if (distance < 0) {
            document.querySelector(".countdown").innerHTML = "Ժամանակը սպառվել է";
            return;
        }

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        document.getElementById("days").innerText = String(days).padStart(2, "0");
        document.getElementById("hours").innerText = String(hours).padStart(2, "0");
        document.getElementById("minutes").innerText = String(minutes).padStart(2, "0");
        document.getElementById("seconds").innerText = String(seconds).padStart(2, "0");
    };

    // Update every second
    setInterval(countdown, 1000);
    countdown(); // Run immediately
</script>
<!--<script src="https://cdn.logwork.com/widget/text.js"></script>-->
<!--<a href="https://logwork.com/current-time-in-yerevan-armenia" class="clock-widget-text" data-timezone="Asia/Yerevan"-->
<!--   data-language="arm">Yerevan, Armenia</a>-->
</body>
</html>
